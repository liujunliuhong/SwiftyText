# SwiftyText
åŸºäº`CoreText`ï¼Œç”¨`Swift`å®ç°çš„è½»é‡çº§è‡ªå®šä¹‰Labelï¼Œä»£ç æ•´ä½“æ€è·¯ç±»ä¼¼äº`YYText`ï¼Œä½†æ˜¯åšäº†å¾ˆå¤šä¼˜åŒ–ï¼ŒåŠ å…¥å¾ˆå¤šè‡ªå·±çš„ç†è§£ï¼Œåœ¨`YYText`çš„åŸºç¡€ä¸Šï¼Œè§£å†³äº†è®¸å¤š`issues`ä¸­æœªè§£å†³çš„é—®é¢˜ã€‚

# ğŸ‘‰è¯¥æ¡†æ¶ä¸æ”¯æŒOCï¼Œåªæ”¯æŒSwiftğŸ‘ˆ

# èƒŒæ™¯
åœ¨å¼€å‘ä¸­ï¼Œä½¿ç”¨åˆ°å¯Œæ–‡æœ¬åœ¨æ‰€éš¾å…ï¼Œå¤§å®¶ç”¨çš„æœ€å¤šçš„å¯èƒ½å°±æ˜¯`YYText`äº†ï¼Œä½†æ˜¯`YYtext`å·²ç»æœ‰3å¹´æ²¡æ›´æ–°äº†ï¼Œè€ŒiOSç³»ç»Ÿå´ä¸€ç›´åœ¨æ›´æ–°ï¼Œä¸€ä¸ªå†å¥½çš„ä¸‰æ–¹åº“ï¼Œå¦‚æœä¸ä¸€ç›´ç»´æŠ¤ï¼Œä¹Ÿä¼šéšç€ç³»ç»Ÿçš„ä¸æ–­å‡çº§å‡ºç°å„ç§bugã€‚åœ¨æˆ‘ä½¿ç”¨`YYText`çš„è¿‡ç¨‹ä¸­ï¼Œå°±å‡ºç°äº†å„ç§é—®é¢˜ï¼Œæ¯”å¦‚é«˜åº¦è®¡ç®—ä¸å‡†ç¡®ã€æ–‡æœ¬å‚ç›´å±…ä¸­æœ‰é—®é¢˜ç­‰ç­‰ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™äº›åŸå› ï¼Œä¿ƒä½¿æˆ‘å†™äº†è¿™ä¸ªåº“ï¼ŒåŒæ—¶ä»”ç»†é˜…è¯»`YYText`æºç ï¼Œå¹¶ç¿»é˜…å…¶ä»–å„ç§å¯Œæ–‡æœ¬ä¸‰æ–¹åº“ï¼Œå†™ä¸€ä¸ªå±äºè‡ªå·±çš„å¯Œæ–‡æœ¬æ¡†æ¶ã€‚

åœ¨ç¼–å†™è¯¥æ¡†æ¶è¿‡ç¨‹ä¸­ï¼Œå€Ÿé‰´äº†è®¸å¤šä¸‰æ–¹åº“:
- [YYtext](https://github.com/ibireme/YYText)(ä¸»è¦)
- [BSText](https://github.com/a1049145827/BSText)(Swiftç‰ˆæœ¬çš„YYText)
- [TYAttributedLabel](https://github.com/12207480/TYAttributedLabel)
- [TYText](https://github.com/12207480/TYText)
- [DTCoreText](https://github.com/Cocoanetics/DTCoreText)
- [M80AttributedLabel](https://github.com/xiangwangfeng/M80AttributedLabel)

# ç‰¹æ€§
- âœ… `SwiftLabel`çš„APIå’Œç³»ç»ŸåŸç”Ÿ`UILabel`ä¸€æ ·ï¼Œå¹¶ä¸”å¢åŠ äº†ä¸€äº›æ–°ç‰¹æ€§
- âœ… æ”¯æŒå¼‚æ­¥ä¸åŒæ­¥æ¸²æŸ“ï¼Œé»˜è®¤å¼€å¯äº†å¼‚æ­¥æ¸²æŸ“
- âœ… å›¾æ–‡æ··æ’æ”¯æŒ`UIImage`ã€`UIView`ã€`CALayer`
- âœ… æ”¯æŒè‡ªå®šä¹‰é«˜äº®ï¼Œå¹¶è®¾ç½®`userInfo`ï¼Œç‚¹å‡»æ—¶ï¼Œå¯è·å–åˆ°è¯¥`userInfo`
- âŒ ä¸æ”¯æŒå‚ç›´æ’ç‰ˆ

# æ•ˆæœ
å±æ€§ | Demo
:-: | :-: 
å›¾æ–‡æ··æ’ | <img src="Images/mixed.jpg" width="350">
ä¸‹åˆ’çº¿(SwiftyTextUnderLine) | <img src="Images/underline.jpg" width="350">
åˆ é™¤çº¿(SwiftyTextStrikethrough)| <img src="Images/strikethrough.png" width="350">
é«˜äº® | <img src="Images/highlight.gif" width="350">

æ›´å¤šæ•ˆæœè¯·è¿è¡ŒDemo

# é’ˆå¯¹`YYText`ä¸­ç›®å‰æœªè¢«Closeçš„é—®é¢˜ï¼Œæœ¬äººæ¥ä¸‹æ¥ä¼šä¸€ä¸€è¿›è¡Œè§£ç­”
- [YYTextAsyncLayerç±»ä¸­å¯¹contentsScaleçš„è®¾ç½®æ˜¯æœ‰é—®é¢˜çš„...](https://github.com/ibireme/YYText/issues/920)

è¯¥é—®é¢˜ï¼Œæœ¬äººå¯¹æºç è¿›è¡Œäº†ä»”ç»†é˜…è¯»ï¼Œå‘ç°åœ¨`YYTextAsyncLayer`å’Œ`YYLabel`ä¸­ä¸­ï¼Œéƒ½åŒæ—¶è®¾ç½®äº†`contentsScale`ï¼Œå› æ­¤ä¸ä¼šå‡ºç°è¯¥é—®é¢˜

- [ä½¿ç”¨ç‰¹æ®Šæ–‡æœ¬æ—¶ï¼ŒYYLabelä¼šæœ‰ä¸€é•¿ä¸²çš„ç©ºæ ¼](https://github.com/ibireme/YYText/issues/915)

å¾…è§£å†³

- [å¯ä»¥è¿›è¡ŒiOS13é»‘æš—æ¨¡å¼é€‚é…å—](https://github.com/ibireme/YYText/issues/911)

ä¹‹åçš„æ›´æ–°ä¼šåŠ ä¸Šï¼Œå‰æœŸè¯¥åŠŸèƒ½å…ˆæš‚æ—¶å¿½ç•¥

- [æ–‡å­—å¸¦ä¸‹åˆ’çº¿ï¼Œå¯ä»¥è°ƒæ•´ä¸‹åˆ’çº¿ä¸æ–‡å­—çš„é—´è·å—ï¼Ÿ](https://github.com/ibireme/YYText/issues/908)

å¾…è§£å†³

- [YYLabelè®¾ç½®NSLineBreakByTruncatingHeadã€NSLineBreakByTruncatingMiddleã€YYTextTruncationTypeStartã€YYTextTruncationTypeMiddleå’ŒUILabelæ˜¾ç¤ºæ•ˆæœä¸ä¸€æ ·](https://github.com/ibireme/YYText/issues/907)

å·²è§£å†³ã€‚åœ¨`CTLineTruncationType`ä¸º`start`å’Œ`middle`çš„æƒ…å†µä¸‹ï¼Œéœ€è¦å•ç‹¬è®¾ç½®ä¸‹`lastLineAttributedText`ã€‚
åŸé—®é¢˜æœ‰äººå·²ç»ç»™å‡ºäº†è§£å†³åŠæ³•ï¼Œä½†æ˜¯æœ‰é™åˆ¶ï¼Œæœ¬äººè¿›è¡Œäº†ä¼˜åŒ–ã€‚

- [YYTextAsyncLayeréä¸»çº¿ç¨‹åˆ·æ–°](https://github.com/ibireme/YYText/issues/904)

è¯¥é—®é¢˜æœ¬äººçŒœæµ‹æ˜¯ç”±äº`displaysAsynchronously`è®¾ç½®ä¸º`true`ï¼Œä½†æ˜¯å´åœ¨éä¸»çº¿ç¨‹æ“ä½œUIå¯¼è‡´çš„ï¼Œæœ¬äººåœ¨`displaysAsynchronously`ä¸º`true`æ—¶ï¼ŒåŠ å…¥äº†
```
dispatch_async(dispatch_get_main_queue(), ^{

});
```

- [YYLabel åŠ¨ç”»è¿‡ç¨‹ä¸­ä¸å“åº” highlightTapAction](https://github.com/ibireme/YYText/issues/901)

å¾…è§£å†³

- [YYTextLayoutè®¡ç®—çš„é«˜åº¦ä¸å‡†ç¡®](https://github.com/ibireme/YYText/issues/900)

åœ¨å†™æ¡†æ¶Demoçš„è¿‡ç¨‹ä¸­ï¼Œæœ¬äººç»ˆäºå¤ç°äº†è¯¥é—®é¢˜ã€‚<br>

å½“`label`çš„`lineBreakMode`è®¾ç½®ä¸º`byCharWrapping`ï¼Œç„¶åç”¨`YYTextLayout`çš„`layoutWithContainerSize:text:`è®¡ç®—é«˜åº¦ï¼Œå°±æœ‰å¯èƒ½ä¼šå‡ºç°é«˜åº¦è®¡ç®—ä¸å‡†ç¡®çš„é—®é¢˜ã€‚<br>

ä»”ç»†é˜…è¯»`YYLabel`æºç ï¼Œå‘ç°åœ¨å¯¹`label`è®¾ç½®`lineBreakMode`æ—¶ï¼Œå†…éƒ¨ä¼šå¯¹`lineBreakMode`è¿›è¡Œçº æ­£ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€ç»ˆçš„`lineBreakMode`æœ‰å¯èƒ½ä¸æ˜¯ä½ æœ€åˆä¼ å…¥çš„å€¼ï¼Œè€Œ`YYTextLayout`çš„`layoutWithContainerSize:text:`é»˜è®¤ä½¿ç”¨çš„`lineBreakMode`ä¸º`byTruncatingTail`ã€‚`byCharWrapping`å’Œ`byTruncatingTail`åœ¨ä¸­è‹±æ–‡æ··æ’æ—¶ï¼Œè¡¨ç°å½¢å¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯`YYTextLayout`è®¡ç®—é«˜åº¦ä¸å‡†ç¡®çš„åŸå› ã€‚<br>

æœ¬æ¡†æ¶å·²è§£å†³è¯¥é—®é¢˜ï¼Œä½†æ˜¯éœ€è¦ç‰¹åˆ«çš„è®¾ç½®
```
let lineBreakMode: NSLineBreakMode = .byCharWrapping // å®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼Œå­˜å‚¨`lineBreakMode`ã€
self.label.lineBreakMode = lineBreakMode // `label`è®¾ç½®`lineBreakMode`
let container = SwiftyTextContainer()
container.size = CGSize(width: frame.width, height: CGFloat.greatestFiniteMagnitude)
container.lineBreakMode = lineBreakMode // `container`è®¾ç½®`lineBreakMode`
let layout = SwiftyTextLayout.layout(container: container, attributedText: sumAtr)
```
